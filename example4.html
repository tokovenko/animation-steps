<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Animations. Example 4</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.2.3/foundation.min.css" media="screen" charset="utf-8">
        <link href="assets/main.css" media="screen" rel="stylesheet" ></link>
    </head>
    <body>
    <div id="page">
        <header>
            <div class="top-bar">
              <div class="top-bar-left">
                <ul class="menu">
                  <li class="menu-text">Animations</li>
                  <li><a href="index.html">Example 1</a></li>
                  <li><a href="example2.html">Example 2</a></li>
                  <li><a href="example3.html">Example 3</a></li>
                  <li class="current"><a href="example4.html">Example 4</a></li>
                  <li><a href="animate-css.html">Animate.css</a></li>
                </ul>
              </div>
              <div class="top-bar-right">
                <button type="button" class="button" role="run-animation">Start animation</button>
              </div>
            </div>
        </header>
        <content>
            <h1 class="subheader">Animation events</h1>
            <div class="row">
              <div class="medium-6 columns">
                  <div id="call-box">
                      <div class="title">CALL NOW</div>
                      <div class="phone">+ 0 123 456 789</div>
                  </div>
                  <div id="call-box2">
                      <div class="title">CALL NOW</div>
                      <div class="phone">+ 0 123 456 789</div>
                  </div>
              </div>
              <div class="medium-6 columns">

    <div class="code-block">
    <code>
    <div class="label">Javascript</div>
    <pre>
    var callBox = document.getElementById('call-box');
    var callBox2 = document.getElementById('call-box2');
    var animation = Animation.init({
        el: callBox,
        steps: ['active','top'],
        onStartStep1: function() {
            console.log('started 1 step of call-box')
        },
        onEndStep1: function() {
            console.log('ended 1 step of call-box');

            animation.add({
                el: callBox2,
                steps: ['active','rotate'],
                onStartStep1: function() {
                    console.log('started 1 step of call-box2')
                },
                onEndStep1: function() {
                    console.log('ended 1 step of call-box2')
                },
                onStartStep2: function() {
                    console.log('started 2 step of call-box2')
                },
                onEndStep2: function() {
                    console.log('ended 2 step of call-box2');
                    e.target.style.display = 'inline-block';
                }
            });
        },
        onStartStep2: function() {
            console.log('started 2 step of call-box')
        },
        onEndStep2: function() {
            console.log('ended 2 step of call-box')
        }
    });

    animation.start();
    </pre>
    </code>
    </div>
              </div>
            </div>
        </content>
    </div>
    <script src="animation-steps.js"></script>
    <script>
        window.onclick = function(e) {
            if(e.target.getAttribute('role')=='run-animation') {
                var callBox = document.getElementById('call-box');
                var callBox2 = document.getElementById('call-box2');
                callBox.classList.add('transition-disable');
                callBox.classList.remove('active');
                callBox.classList.remove('top');
                callBox2.classList.add('transition-disable');
                callBox2.classList.remove('active');
                callBox2.classList.remove('rotate');
                e.target.style.display = 'none';
                setTimeout(function() {
                    callBox.classList.remove('transition-disable');
                    callBox2.classList.remove('transition-disable');
                    var animation = Animation.init({
                            el: callBox,
                            steps: ['active','top'],
                            onStartStep1: function() {
                                console.log('started 1 step of call-box')
                            },
                            onEndStep1: function() {
                                console.log('ended 1 step of call-box');

                                animation.add({
                                    el: callBox2,
                                    steps: ['active','rotate'],
                                    onStartStep1: function() {
                                        console.log('started 1 step of call-box2')
                                    },
                                    onEndStep1: function() {
                                        console.log('ended 1 step of call-box2')
                                    },
                                    onStartStep2: function() {
                                        console.log('started 2 step of call-box2')
                                    },
                                    onEndStep2: function() {
                                        console.log('ended 2 step of call-box2');
                                        e.target.style.display = 'inline-block';
                                    }
                                });
                            },
                            onStartStep2: function() {
                                console.log('started 2 step of call-box')
                            },
                            onEndStep2: function() {
                                console.log('ended 2 step of call-box')
                            }
                        });

                        animation.start();
                	// Animation
                    //     .init(document.getElementById('call-box'), ['active','top'])
                    //     .start();
                }, 100);
            }
        };
    </script>
    </body>
</html>
